import{u as y,S as b,r as A,a as l,c as T,b as a,d as e,w as m,e as p,v as f,t as g,F as B,o as C,L as I,f as U,g as h}from"./index-be50f945.js";const S={class:"flex justify-content-center align-items-center h-screen"},K={class:"flex flex-column gap-4 align-items-center"},D=e("div",{class:"font-bold text-2xl text-main-color"}," Đăng nhập vào hệ thống ",-1),P={class:"card w-23rem flex flex-column gap-3 py-4"},M={class:"flex flex-column gap-2"},R=e("span",null,"Tài khoản",-1),j={class:"flex flex-column gap-1"},E={class:"flex flex-column gap-2"},F=e("span",null,"Mật khẩu",-1),H={class:"flex flex-column gap-1"},O=e("div",{class:"fixed bottom-0 w-full py-3 flex justify-content-center gap-2 align-items-center box-shadow"},[e("div",{class:"text-600 gap-1"},[e("span",{class:"text-custom-mini"}," Xin lỗi, nhưng hãy đừng cố gắng truy cập trái phép vào hệ thống này. Chúng tôi đánh giá rất cao tính bảo mật và tính riêng tư của dữ liệu. ")])],-1),W={__name:"LoginAdmin",setup(z){const _=y(),{onActionLogin:w,onActionGetUserInfo:v}=b(),o=A({formLogin:{userName:"",password:""},validate:{userName:"",password:""}}),i=()=>{o.formLogin.userName?o.validate.userName="":o.validate.userName="Vui lòng nhập tên tài khoản"},c=()=>{o.formLogin.password?o.validate.password="":o.validate.password="Vui lòng nhập mật khẩu"},x=t=>{c(),o.formLogin.password=t.target.value},L=()=>{i(),c()},N=()=>{for(const t in o.validate)if(o.validate[t])return!0;return!1},d=()=>{L(),!N()&&w(o.formLogin,"ADMIN_ACCOUNT").then(t=>{var n;t!=null&&t.success&&(U((n=t==null?void 0:t.data)==null?void 0:n.token),v().then(r=>{var s;h.value.userData=r,h.value.accessToken=(s=t==null?void 0:t.data)==null?void 0:s.token}),_.push({name:"HomeAdmin"}))})};return(t,n)=>{const r=l("Toast"),s=l("InputText"),V=l("Password"),k=l("Button");return C(),T(B,null,[a(I),a(r,{class:"toast w-21rem line-height-2",position:"top-left"}),e("div",S,[e("div",K,[D,e("div",P,[e("label",M,[R,e("div",j,[a(s,{modelValue:o.formLogin.userName,"onUpdate:modelValue":n[0]||(n[0]=u=>o.formLogin.userName=u),class:"w-full",onBlur:i,onInput:i,onKeydown:m(d,["enter"])},null,8,["modelValue","onKeydown"]),p(e("small",{class:"p-error ml-1"},g(o.validate.userName),513),[[f,o.validate.userName]])])]),e("label",E,[F,e("div",H,[a(V,{class:"w-full",feedback:!1,toggleMask:"",inputClass:"w-full",autocomplete:"new-password",onInput:x,onBlur:c,modelValue:o.formLogin.password,"onUpdate:modelValue":n[1]||(n[1]=u=>o.formLogin.password=u),onKeydown:m(d,["enter"])},null,8,["modelValue","onKeydown"]),p(e("small",{class:"p-error ml-1"},g(o.validate.password),513),[[f,o.validate.password]])])]),a(k,{label:"Đăng nhập",onClick:d})])]),O])],64)}}};export{W as default};
